{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","bundle.js","src/index.js","node_modules/browserify/node_modules/events/events.js","node_modules/ls-wrapper/index.js","node_modules/ls-wrapper/lib/index.js","node_modules/ls-wrapper/node_modules/js-type-check/index.js","node_modules/ls-wrapper/node_modules/js-type-check/lib/typecheck.js","src/API/index.js","src/auth/index.js","src/balance/ctrl.js","src/balance/factory.js","src/balance/index.js","src/expense/ctrl.js","src/expense/factory.js","src/expense/index.js","src/filters/index.js","src/history/ctrl.js","src/history/index.js","src/login/ctrl.js","src/login/factory.js","src/login/index.js","src/ls/index.js","src/main/index.js","src/pubsub/index.js","src/register/factory.js","src/register/index.js","src/user/ctrl.js","src/user/factory.js","src/user/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireWildcard","obj","__esModule","default","_API","_API2","_auth","_auth2","_balance","_balance2","_expense","_expense2","_money","_history","_history2","_login","_login2","_ls","_ls2","_main","_main2","_pubsub","_pubsub2","_register","_register2","_user","_user2","angular","factory","controller","ctrl","config","hp","forEach","interceptor","interceptors","push","defaults","headers","Content-Type","filter","money","./API","./auth","./balance","./expense","./filters","./history","./login","./ls","./main","./pubsub","./register","./user",2,"EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","Array","apply","slice","addListener","listener","m","newListener","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","emitter",3,"./lib",4,"Wrapper","prefix","get","name","_ref","JSON","parse","localStorage","getItem","val","Date","set","data","stringify","_getType","getType","setItem","drop","removeItem","Object","defineProperty","value","js-type-check",5,"./lib/typecheck",6,"Number","isFinite","isString","str","isBool","bool","isRegex","regex","RegExp","isDate","date","isArray","xs","isNull","x","isDefined","fn","toString","isError","err","typeCheck","constructor","toLowerCase","checkers","string","object","number","boolean","regexp","array","function",7,"$http","$window","API","balance","success","res","expense","save","method","url","all","destroy","expenses","log","login","user","email","password","authorization","btoa","register",8,"ls","request","test",9,"pubsub","getBalances","balances","vm","sub",10,"debt","reduce","prev","curr","danger","warning","split","shift",11,"_factory","_factory2","_ctrl","_ctrl2","./ctrl","./factory",12,"expenseFactory","pub","then",13,"events",14,15,"amt","toFixed",16,"getHistory","history","id","checkDeletion","idx","shareId","publisher","deleteExpenses","deletions","map","deleted",17,18,"selectLogin","actions","failure","message","select","action","submit",19,"do","token",20,21,"ls-wrapper",22,"main","_name","change","page","toggleCollapsed","loggedIn","_ls$get","_name2","logout","collapsed",23,"_EventEmitter",24,25,26,27,28],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"import API from './API';\nimport auth from './auth';\nimport balance from './balance';\nimport expense from './expense';\nimport {money} from './filters';\nimport history from './history';\nimport login from './login';\nimport ls from './ls';\nimport main from './main';\nimport pubsub from './pubsub';\nimport register from './register';\nimport user from './user';\n\nangular.module('flatdosh', ['templates', 'ui.bootstrap'])\n  // FACTORIES\n  .factory('API', ['$http', '$window', API])\n  .factory('auth', ['ls', auth])\n  .factory('balance', ['API', balance.factory])\n  .factory('expense', ['API', 'pubsub', expense.factory])\n  .factory('login', ['API', 'ls', 'pubsub', login.factory])\n  .factory('ls', [ls])\n  .factory('pubsub', [pubsub])\n  .factory('register', ['API', register.factory])\n  .factory('user', [user.factory])\n  // CONTROLLERS\n  .controller('balanceCtrl', ['balance', 'pubsub', balance.ctrl])\n  .controller('expenseCtrl', ['expense', 'pubsub', expense.ctrl])\n  .controller('loginCtrl', ['login', 'register', login.ctrl])\n  .controller('historyCtrl', ['expense', 'pubsub', 'ls', history.ctrl])\n  .controller('mainCtrl', ['ls', 'pubsub', main])\n  .controller('userCtrl', ['user', user.ctrl])\n  //CONFIG\n  .config(['$httpProvider', hp => {\n    ['auth'].forEach(interceptor => hp.interceptors.push(interceptor));\n    hp.defaults.headers.delete = {\n      'Content-Type': 'application/json'\n    }\n  }])\n  .filter('money', money);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","module.exports = require('./lib');\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = Wrapper;\n\nvar _getType = require('js-type-check');\n\nfunction Wrapper(prefix) {\n\n  return {\n\n    get: function get(name) {\n      var key = prefix ? '' + prefix + '.' + name : name;\n\n      var _ref = JSON.parse(localStorage.getItem(key)) || {};\n\n      var val = _ref.val;\n      var type = _ref.type;\n\n      return type === 'date' ? new Date(val) : val;\n    },\n\n    set: function set(name, data) {\n      var key = prefix ? '' + prefix + '.' + name : name;\n      var val = JSON.stringify({ val: data, type: _getType.getType(data) });\n      return localStorage.setItem(key, val);\n    },\n\n    drop: function drop(name) {\n      return localStorage.removeItem(prefix ? '' + prefix + '.' + name : name);\n    }\n\n  };\n}\n\nmodule.exports = exports['default'];","module.exports = require('./lib/typecheck');\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.isNumber = isNumber;\nexports.isString = isString;\nexports.isBool = isBool;\nexports.isRegex = isRegex;\nexports.isDate = isDate;\nexports.isArray = isArray;\nexports.isNull = isNull;\nexports.isUndefined = isUndefined;\nexports.isDefined = isDefined;\nexports.isFunction = isFunction;\nexports.isObject = isObject;\nexports.isError = isError;\nexports.typeCheck = typeCheck;\nexports.getType = getType;\n\nfunction isNumber(n) {\n\n  return Number.isFinite(n);\n}\n\nfunction isString(str) {\n\n  return typeof str === 'string';\n}\n\nfunction isBool(bool) {\n\n  return typeof bool === 'boolean';\n}\n\nfunction isRegex(regex) {\n\n  return regex instanceof RegExp;\n}\n\nfunction isDate(date) {\n\n  return date instanceof Date;\n}\n\nfunction isArray(xs) {\n\n  return Array.isArray(xs);\n}\n\nfunction isNull(n) {\n\n  return n === null;\n}\n\nfunction isUndefined(x) {\n\n  return x === undefined;\n}\n\nfunction isDefined(x) {\n\n  return !isUndefined(x);\n}\n\nfunction isFunction(fn) {\n\n  return typeof fn === 'function';\n}\n\nfunction isObject(obj) {\n\n  // use prototype method in case toString has been overridden\n  return obj ? Object.prototype.toString.call(obj).slice(8, -1) === 'Object' : false;\n}\n\nfunction isError(err) {\n\n  return err instanceof Error;\n}\n\nfunction typeCheck(type, val) {\n\n  var t = type.prototype.constructor.name.toLowerCase();\n\n  var checkers = {\n    string: isString,\n    object: isObject,\n    number: isNumber,\n    boolean: isBool,\n    regexp: isRegex,\n    date: isDate,\n    array: isArray,\n    'function': isFunction\n  };\n\n  return checkers[t](val);\n}\n\nfunction getType(val) {\n\n  var str = Object.prototype.toString.call(val);\n\n  return str.slice(8, -1).toLowerCase();\n}","export default function($http, $window) {\n\n  /*\n  let dev = /\\w+$/i.exec($location.host).pop() === 'dev';\n  let API = dev ? $location.host :\n  */\n\n  let API = 'https://api.damonmcminn.com/flatdosh/';\n\n  /* @if NODE_ENV=='dev' */\n    API = 'http://api.dev/flatdosh/';\n  /* @endif */\n\n  return {\n\n    balance () {\n\n      return $http.get(API + 'balance').success(res => res.data);\n\n    },\n\n    expense: {\n\n      save (data) {\n\n        return $http({\n          method: 'post',\n          url: `${API}expense`,\n          data\n        });\n\n      },\n\n      all () {\n\n        return $http.get(`${API}expense`);\n\n      },\n\n      destroy (expenses) {\n\n        console.log(expenses);\n\n        return $http({\n\n          method: 'delete',\n          url: API + 'expense',\n          data: expenses\n\n        });\n\n      }\n\n    },\n\n    login (user) {\n\n      let {email, password} = user;\n\n      let authorization = 'Basic ' + $window.btoa(`${email}:${password}`);\n\n      return $http({\n        method: 'post',\n        url: `${API}login`,\n        headers: {authorization}\n      });\n\n    },\n\n    register (user) {\n\n      return $http({\n        method: 'post',\n        url: API + 'register',\n        data: user\n      });\n    }\n\n  };\n\n}\n","export default function(ls) {\n\n  return {\n\n    request (config) {\n\n      // don't attach token to login request\n      let login = /\\/login$/.test(config.url);\n      if (login) {\n        return config;\n      }\n\n      // also intercepts templates, but doesn't matter\n      config.headers.authorization = `Bearer ${ls.get('token')}`;\n      return config;\n\n    }\n\n  };\n\n}\n","export default function(balance, pubsub) {\n\n  let vm = this;\n\n  function getBalances() {\n    balance.get().success(balances => vm.balances = balances);\n  }\n\n  getBalances();\n\n  pubsub.sub('update balances', () => {\n    getBalances();\n  });\n\n}\n","export default function(API) {\n\n  return {\n\n    get () {\n\n      return API.balance()\n        .success(balances => {\n\n          // attach labels for determing warning/danger classes\n\n          // the user with the largest negative balance\n          let debt = balances.reduce((prev, curr) => {\n            return prev.balance < curr.balance ? prev : curr;\n          });\n\n          // flag debt for styling\n          if (debt.balance < 0) {\n            debt.danger = true;\n          }\n\n          // only executes if balances are less than zero\n          // ergo a debt.danger exists\n          balances.filter(balance => (!balance.danger && balance.balance < 0))\n            .forEach(balance => {\n              if (balance.balance === debt.balance) {\n                balance.danger = true;\n              } else {\n                balance.warning = true;\n              }\n            });\n\n          balances.forEach(balance => {\n            balance.name = balance.name.split('@').shift();\n          });\n\n          return balances;\n\n        });\n\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","export default function(expenseFactory, pubsub) {\n\n  let vm = this;\n\n  pubsub.pub('page', 'save');\n\n  vm.save = function() {\n\n    expenseFactory.save(vm.expense).then( () => {\n      pubsub.pub('update balances');\n      vm.expense = null; // clear the form\n    });\n\n  };\n}\n","export default function(API, events) {\n\n  return {\n\n    all () {\n\n      return API.expense.all()\n        .then(res => res.data);\n\n    },\n\n    save (expense) {\n\n      return API.expense.save(expense)\n        .then(res => res.data);\n\n    },\n\n    destroy (expenses) {\n\n      return API.expense.destroy(expenses)\n        .then(res => res.data);\n\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","export function money() {\n\n  return function(val) {\n\n    let amt = +val;\n\n    return amt < 0 ? `-£${(-amt).toFixed(2)}` : `£${amt.toFixed(2)}`;\n\n  };\n\n}\n","export default function(expenseFactory, pubsub, ls) {\n\n  let vm = this;\n\n  // could be undefined? -> should return empty object\n  let user = ls.get('user').id;\n  vm.user = user;\n\n  vm.history = [];\n\n  vm.checkDeletion = function(idx) {\n    let shareId = vm.history[idx].shareId;\n    // null if not exist\n    if (shareId) {\n      vm.history.filter(e => {\n        return e.user !== user && e.shareId === shareId;\n      }).forEach(e => e.delete = !e.delete);\n    }\n  }\n\n  function getHistory() {\n    expenseFactory.all().then(history => {\n      vm.history = history;\n    });\n  }\n\n  getHistory();\n\n  pubsub.sub('update balances', (publisher) => {\n    return publisher === 'history' ? false : getHistory();\n  });\n\n  vm.deleteExpenses = function() {\n\n    let deletions = vm.history\n      .filter(e => e.delete)\n      .map(e => e.id);\n\n    //let confirmed = confirm('Delete selected expenses?');\n\n    //return confirmed ? del(deletions) : false;\n\n    expenseFactory.destroy(deletions).then(res => {\n      // success?\n      \n      pubsub.pub('update balances', 'history');\n      // mark deleted rather than another API call to server\n      res.deleted.forEach(id => {\n        vm.history.forEach(e => {\n          if (e.id === id) {\n            e.deleted = true;\n          }\n        });\n      });\n    });\n\n  };\n\n}\n","import ctrl from './ctrl';\n\nexport default {ctrl};\n","export default function(login, register) {\n\n  let vm = this;\n\n  vm.selectLogin = true;\n\n  let actions = {\n\n    login () {\n      login.do(vm.user).error(failure => {\n\n        let message;\n        if (!failure || !failure.message) {\n          message = 'Server error';\n        } else {\n          message = failure.message;\n        }\n\n        vm.error = message;\n\n        switch (message) {\n          case 'Bad password':\n            vm.user.password = null;\n            break;\n          case 'User not found':\n            vm.user = null;\n            break;\n        }\n      });\n\n    },\n    register () {\n      register.do(vm.user)\n        .success(() => {\n          actions.login();\n        })\n        .error(err => console.log(err));\n    }\n  };\n\n  vm.select = function(type) {\n    vm.action = type;\n  };\n\n  vm.submit = function() {\n    actions[vm.action]();\n  };\n\n}\n","export default function(API, ls, pubsub) {\n\n  return {\n\n    do (user) {\n      return API.login(user)\n        .success(res => {\n          ls.set('token', res.token);\n          ls.set('user', res.data);\n          pubsub.pub('login', true);\n          return null;\n        });\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","import ls from 'ls-wrapper';\n\nexport default function() {\n\n  return ls('flatdosh');\n\n}\n","export default function(ls, pubsub) {\n\n  let main = this;\n\n  let user = ls.get('user');\n\n  if (user) {\n    let {name} = user;\n    main.name = name;\n  }\n\n  main.change = function(page) {\n    main.toggleCollapsed();\n    main.page = page;\n  };\n\n  pubsub.sub('page', page => main.page = page);\n\n  pubsub.sub('login', success => {\n    if (success) {\n      main.loggedIn = true;\n      let {name} = ls.get('user');\n      main.name = name;\n    }\n  });\n\n  main.loggedIn = !!ls.get('token');\n\n  main.logout = function() {\n\n    ls.drop('token');\n    ls.drop('user');\n    main.loggedIn = false;\n\n  };\n\n  main.collapsed = true;\n  main.toggleCollapsed = function() {\n    main.collapsed = !main.collapsed;\n  };\n\n}\n","import {EventEmitter} from 'events';\n\nconst events = new EventEmitter();\n\nexport default function() {\n\n  return {\n    sub: events.on,\n    pub: events.emit\n  };\n\n}\n","export default function(API) {\n\n  return {\n\n    do (user) {\n      return API.register(user);\n    }\n\n  };\n\n}\n","import factory from './factory';\n\nexport default {factory};\n","export default function() {\n\n  let vm = this;\n\n  vm.loggedIn = false;\n\n}\n","export default function(ls) {\n  return {\n  };\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n"],"sourceRoot":"/source/"}