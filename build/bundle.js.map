{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","bundle.js","src/index.js","node_modules/browserify/node_modules/events/events.js","node_modules/ls-wrapper/index.js","node_modules/ls-wrapper/lib/index.js","node_modules/ls-wrapper/node_modules/js-type-check/index.js","node_modules/ls-wrapper/node_modules/js-type-check/lib/typecheck.js","src/API/index.js","src/auth/index.js","src/balance/ctrl.js","src/balance/factory.js","src/balance/index.js","src/expense/ctrl.js","src/expense/factory.js","src/expense/index.js","src/filters/index.js","src/history/ctrl.js","src/history/index.js","src/login/ctrl.js","src/login/factory.js","src/login/index.js","src/ls/index.js","src/main/index.js","src/pubsub/index.js","src/register/factory.js","src/register/index.js","src/user/ctrl.js","src/user/factory.js","src/user/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireWildcard","obj","__esModule","default","_API","_API2","_auth","_auth2","_balance","_balance2","_expense","_expense2","_money","_history","_history2","_login","_login2","_ls","_ls2","_main","_main2","_pubsub","_pubsub2","_register","_register2","_user","_user2","angular","factory","controller","ctrl","config","hp","forEach","interceptor","interceptors","push","filter","money","./API","./auth","./balance","./expense","./filters","./history","./login","./ls","./main","./pubsub","./register","./user",2,"EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","Array","apply","slice","addListener","listener","m","newListener","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","emitter",3,"./lib",4,"Wrapper","prefix","get","name","_ref","JSON","parse","localStorage","getItem","val","Date","set","data","stringify","_getType","getType","setItem","drop","removeItem","Object","defineProperty","value","js-type-check",5,"./lib/typecheck",6,"Number","isFinite","isString","str","isBool","bool","isRegex","regex","RegExp","isDate","date","isArray","xs","isNull","x","isDefined","fn","toString","isError","err","typeCheck","constructor","toLowerCase","checkers","string","object","number","boolean","regexp","array","function",7,"$http","$window","API","balance","success","res","expense","save","method","url","all","login","user","email","password","authorization","btoa","headers","register",8,"ls","request","test",9,"pubsub","getBalances","balances","vm","sub","msg",10,"debt","reduce","prev","curr","danger","warning","split","shift",11,"_factory","_factory2","_ctrl","_ctrl2","./ctrl","./factory",12,"expenseFactory","pub","then",13,"events",14,15,"amt","toFixed",16,"getHistory","history",17,18,"select","action","selectLogin","submit","actions","failure","message","log",19,"do","token",20,21,"ls-wrapper",22,"main","_name","change","page","toggleCollapsed","loggedIn","_ls$get","_name2","logout","collapsed",23,"_EventEmitter",24,25,26,27,28],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"import API from './API';\nimport auth from './auth';\nimport balance from './balance';\nimport expense from './expense';\nimport {money} from './filters';\nimport history from './history';\nimport login from './login';\nimport ls from './ls';\nimport main from './main';\nimport pubsub from './pubsub';\nimport register from './register';\nimport user from './user';\n\nangular.module('flatdosh', ['templates', 'ui.bootstrap'])\n  // FACTORIES\n  .factory('API', ['$http', '$window', API])\n  .factory('auth', ['ls', auth])\n  .factory('balance', ['API', balance.factory])\n  .factory('expense', ['API', 'pubsub', expense.factory])\n  .factory('login', ['API', 'ls', 'pubsub', login.factory])\n  .factory('ls', [ls])\n  .factory('pubsub', [pubsub])\n  .factory('register', ['API', register.factory])\n  .factory('user', [user.factory])\n  // CONTROLLERS\n  .controller('balanceCtrl', ['balance', 'pubsub', balance.ctrl])\n  .controller('expenseCtrl', ['expense', 'pubsub', expense.ctrl])\n  .controller('loginCtrl', ['login', 'register', login.ctrl])\n  .controller('historyCtrl', ['expense','pubsub', history.ctrl])\n  .controller('mainCtrl', ['ls', 'pubsub', main])\n  .controller('userCtrl', ['user', user.ctrl])\n  //CONFIG\n  .config(['$httpProvider', hp => {\n    ['auth'].forEach(interceptor => hp.interceptors.push(interceptor));\n  }])\n  .filter('money', money);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","module.exports = require('./lib');\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = Wrapper;\n\nvar _getType = require('js-type-check');\n\nfunction Wrapper(prefix) {\n\n  return {\n\n    get: function get(name) {\n      var key = prefix ? '' + prefix + '.' + name : name;\n\n      var _ref = JSON.parse(localStorage.getItem(key)) || {};\n\n      var val = _ref.val;\n      var type = _ref.type;\n\n      return type === 'date' ? new Date(val) : val;\n    },\n\n    set: function set(name, data) {\n      var key = prefix ? '' + prefix + '.' + name : name;\n      var val = JSON.stringify({ val: data, type: _getType.getType(data) });\n      return localStorage.setItem(key, val);\n    },\n\n    drop: function drop(name) {\n      return localStorage.removeItem(prefix ? '' + prefix + '.' + name : name);\n    }\n\n  };\n}\n\nmodule.exports = exports['default'];","module.exports = require('./lib/typecheck');\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.isNumber = isNumber;\nexports.isString = isString;\nexports.isBool = isBool;\nexports.isRegex = isRegex;\nexports.isDate = isDate;\nexports.isArray = isArray;\nexports.isNull = isNull;\nexports.isUndefined = isUndefined;\nexports.isDefined = isDefined;\nexports.isFunction = isFunction;\nexports.isObject = isObject;\nexports.isError = isError;\nexports.typeCheck = typeCheck;\nexports.getType = getType;\n\nfunction isNumber(n) {\n\n  return Number.isFinite(n);\n}\n\nfunction isString(str) {\n\n  return typeof str === 'string';\n}\n\nfunction isBool(bool) {\n\n  return typeof bool === 'boolean';\n}\n\nfunction isRegex(regex) {\n\n  return regex instanceof RegExp;\n}\n\nfunction isDate(date) {\n\n  return date instanceof Date;\n}\n\nfunction isArray(xs) {\n\n  return Array.isArray(xs);\n}\n\nfunction isNull(n) {\n\n  return n === null;\n}\n\nfunction isUndefined(x) {\n\n  return x === undefined;\n}\n\nfunction isDefined(x) {\n\n  return !isUndefined(x);\n}\n\nfunction isFunction(fn) {\n\n  return typeof fn === 'function';\n}\n\nfunction isObject(obj) {\n\n  // use prototype method in case toString has been overridden\n  return obj ? Object.prototype.toString.call(obj).slice(8, -1) === 'Object' : false;\n}\n\nfunction isError(err) {\n\n  return err instanceof Error;\n}\n\nfunction typeCheck(type, val) {\n\n  var t = type.prototype.constructor.name.toLowerCase();\n\n  var checkers = {\n    string: isString,\n    object: isObject,\n    number: isNumber,\n    boolean: isBool,\n    regexp: isRegex,\n    date: isDate,\n    array: isArray,\n    'function': isFunction\n  };\n\n  return checkers[t](val);\n}\n\nfunction getType(val) {\n\n  var str = Object.prototype.toString.call(val);\n\n  return str.slice(8, -1).toLowerCase();\n}","export default function($http, $window) {\n\n  /*\n  let dev = /\\w+$/i.exec($location.host).pop() === 'dev';\n  let API = dev ? $location.host :\n  */\n\n  let API = 'https://api.damonmcminn.com/flatdosh/';\n\n  /* @if NODE_ENV=='dev' */\n    API = 'http://api.dev/flatdosh/';\n  /* @endif */\n\n  return {\n\n    balance () {\n\n      return $http.get(API + 'balance').success(res => res.data);\n\n    },\n\n    expense: {\n\n      save (data) {\n\n        return $http({\n          method: 'post',\n          url: `${API}expense`,\n          data\n        });\n\n      },\n\n      all () {\n\n        return $http.get(`${API}expense`);\n\n      }\n\n    },\n\n    login (user) {\n\n      let {email, password} = user;\n\n      let authorization = 'Basic ' + $window.btoa(`${email}:${password}`);\n\n      return $http({\n        method: 'post',\n        url: `${API}login`,\n        headers: {authorization}\n      });\n\n    },\n\n    register (user) {\n\n      return $http({\n        method: 'post',\n        url: API + 'register',\n        data: user\n      });\n    }\n\n  };\n\n}\n","export default function(ls) {\n\n  return {\n\n    request (config) {\n\n      // don't attach token to login request\n      let login = /\\/login$/.test(config.url);\n      if (login) {\n        return config;\n      }\n\n      // also intercepts templates, but doesn't matter\n      config.headers.authorization = `Bearer ${ls.get('token')}`;\n      return config;\n\n    }\n\n  };\n\n}\n","export default function(balance, pubsub) {\n\n  function getBalances() {\n    balance.get().success(balances => vm.balances = balances);\n  }\n  \n  let vm = this;\n\n  getBalances();\n\n  pubsub.sub('update balances', msg => {\n    getBalances();\n  });\n\n}\n","export default function(API) {\n\n  return {\n\n    get () {\n\n      return API.balance()\n        .success(balances => {\n\n          // attach labels for determing warning/danger classes\n\n          let debt = balances.reduce((prev, curr) => {\n            return prev.balance < curr.balance ? prev : curr;\n          });\n\n          debt.balance < 0 ? debt.danger = true : null;\n\n          // only executes if balances are less than zero\n          // ergo a debt.danger exists\n          balances.filter(balance => (!balance.danger && balance.balance < 0))\n            .forEach(balance => {\n              if (balance.balance === debt.balance) {\n                balance.danger = true;\n              } else {\n                balance.warning = true\n              }\n            });\n\n          balances.forEach(balance => {\n            balance.name = balance.name.split('@').shift();\n          });\n\n          return balances;\n\n        });\n\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","export default function(expenseFactory, pubsub) {\n\n  let vm = this;\n  \n  pubsub.pub('page', 'save');\n\n  vm.save = function() {\n\n    expenseFactory.save(vm.expense).then( () => {\n      pubsub.pub('update balances');\n      vm.expense = null; // clear the form\n    });\n\n  }\n}\n","export default function(API, events) {\n\n  return {\n\n    all () {\n\n      return API.expense.all()\n        .then(res => res.data);\n\n    },\n\n    save (expense) {\n\n      return API.expense.save(expense)\n        .then(res => res.data);\n\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","export function money() {\n\n  return function(val) {\n\n    let amt = +val;\n\n    return amt < 0 ? `-£${(-amt).toFixed(2)}` : `£${amt.toFixed(2)}`;\n\n  }\n\n}\n","export default function(expenseFactory, pubsub) {\n\n  let vm = this;\n\n  vm.history = [];\n\n  function getHistory() {\n    expenseFactory.all().then(history => vm.history = history);\n  }\n\n  getHistory();\n\n  pubsub.sub('update balances', () => getHistory());\n\n}\n","import ctrl from './ctrl';\n\nexport default {ctrl};\n","export default function(login, register) {\n\n  let vm = this;\n\n  vm.select = function(type) {\n    vm.action = type;\n  }\n\n  vm.selectLogin = true;\n\n  vm.submit = function() {\n    actions[vm.action]();\n  }\n\n  let actions = {\n    \n    login () {\n      login.do(vm.user).error(failure => {\n\n        let message = failure.message;\n\n        vm.error = message;\n\n        switch (message) {\n          case 'Bad password':\n            vm.user.password = null;\n            break;\n          case 'User not found':\n            vm.user = null;\n        }\n      });\n\n    },\n    register () {\n      register.do(vm.user)\n        .success(r => {\n          actions.login();\n        })\n        .error(err => console.log(err));\n    }\n  };\n}\n","export default function(API, ls, pubsub) {\n\n  return {\n\n    do (user) {\n      return API.login(user)\n        .success(res => {\n          ls.set('token', res.token);\n          ls.set('user', res.data);\n          pubsub.pub('login', true);\n          return null;\n        });\n    }\n\n  };\n\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n","import ls from 'ls-wrapper';\n\nexport default function() {\n\n  return ls('flatdosh');\n\n}\n","export default function(ls, pubsub) {\n\n  let main = this;\n\n  let user = ls.get('user');\n\n  if (user) {\n    let {name} = user;\n    main.name = name;\n  }\n\n  main.change = function(page) {\n    main.toggleCollapsed();\n    main.page = page;\n  }\n\n  pubsub.sub('page', page => main.page = page);\n\n  pubsub.sub('login', success => {\n    if (success) {\n      main.loggedIn = true;\n      let {name} = ls.get('user');\n      main.name = name;\n    }\n  });\n\n  main.loggedIn = !!ls.get('token');\n\n  main.logout = function() {\n\n    ls.drop('token');\n    ls.drop('user');\n    main.loggedIn = false;\n\n  }\n\n  main.collapsed = true;\n  main.toggleCollapsed = function() {\n    main.collapsed = !main.collapsed;\n  }\n\n}\n","import {EventEmitter} from 'events';\n\nconst events = new EventEmitter;\n\nexport default function() {\n\n  return {\n    sub: events.on,\n    pub: events.emit\n  }\n\n}\n","export default function(API) {\n\n  return {\n\n    do (user) {\n\n      return API.register(user)\n    }\n\n  };\n\n}\n","import factory from './factory';\n\nexport default {factory};\n","export default function() {\n\n  let vm = this;\n\n  vm.loggedIn = false;\n\n}\n","export default function() {\n  \n  return {\n  };\n}\n","import factory from './factory';\nimport ctrl from './ctrl';\n\nexport default {ctrl, factory};\n"],"sourceRoot":"/source/"}